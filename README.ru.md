# MQTT/UDP
Упрощённая версия MQTT поверх UDP: Брокер - это сеть!

[See English version / Английская версия здесь](./README.md)


MQTT - симпатичный и простой протокол, который отлично подходит для IoT и прочих умных домов.

Но его можно сделать ещё проще. Предлагамый MQTT/UDP это просто
пакеты MQTT Publish, передаваемые бродкастом через UDP.

## Плюсы MQTT/UDP

* невероятно просто.
* очень быстро, при этом - минимальная возможная латентность
* не нужен брокер (который является потенциальной точкой отказа)
* низкий трафик в сети - один пакет доставляет данные всем получателям сразу
* разумная надёжность (особенно если мы применяем его для сенсоров, которые, как правило, регулярно высылают новые измерения)
* можно использовать на самом слабом железе (не требуется реализация TCP, достаточно только UDP и только на отправку)
* минимальная потребность в конфигурировнии.

## Для дальнейшего чтения

* [MQTT/UDP Wiki](../../wiki)
* [MQTT topologies](./dox/Topologies.md)

## Что в этом репозитории

* Минимальная реализация протокола на нескольких популярных языках
* Минимальная версия гейта между обычным MQTT и MQTT/UDP на Питоне
* Отладочное приложение чтобы смотреть MQTT/UDP трафик в сети (tools/viewer).

## Если вы хотите помочь проекту

* Напишите реализацию на вашем любимом языке.
* Напишите более полноценный гейт в классический MQTT или иной разумный протокол
* Добавьте поддержку MQTT/UDP в ваш любимый брокер MQTT или IoT систему (OpenHAB?)

Это несложно, протокол действительно невероятно простой.

## Причины НЕ использовать MQTT/UDP

* Большой объём данных пакета. Если включается фрагментирование, надёжность падает. А некоторые реализации UDP/IP вообще не умеют фрагментирование.
* Необходимость быть уверенным в доставке (событийные пакеты, а не апдейт меняющихся значений)

## Варианты расширения MQTT/UDP

* Было бы здорово добавить цифровую подпись, чтобы защититься от подделки отправителя.
* Заменить бродкаст на мультикаст. Опять же, помощь приветствуется.

## Как начать работу

* Клонируйте или скачайте репозиторий к себе на диск (зелёная кнопка Clone of Download)
* Прочитайте файл [HOWTO](https://raw.githubusercontent.com/dzavalishin/mqtt_udp/master/HOWTO)

## Инструментарий разработчика

В этом репозитории есть также инструменты для поддержки интегрирования протокола MQTT/UDP в Ваши программы:

* Модуль разбора протокола для WireShark чтобы смотреть пакеты MQTT/UDP; в каталоге [lua](https://github.com/dzavalishin/mqtt_udp/tree/master/lua)
* GUI программа для отображения трафика пакетов и последнего состояния по каждому топику в каталоге [tools/viewer](https://github.com/dzavalishin/mqtt_udp/tree/master/tools/viewer); см. также [руководство по этой программе](https://github.com/dzavalishin/mqtt_udp/wiki/MQTT-UDP-Viewer-Help).
* Генератор пакетов со случайным содержанием (random_to_udp.py) в каталоге [python3/examples](https://github.com/dzavalishin/mqtt_udp/tree/master/python3/examples) 
* Генератор/проверяльщик пакетов с последовательными номерами. Примеры seq_storm_send.py and seq_storm_check.py в каталоге [python3/examples](https://github.com/dzavalishin/mqtt_udp/tree/master/python3/examples) 

